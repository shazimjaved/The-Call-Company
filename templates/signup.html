{% extends "layout.html" %}
{% block title %}Sign Up{% endblock %}
{% block content %}
    <div style="max-width: 700px; margin: 0 auto;">
        <div class="plan-summary-card">
            <div class="plan-summary-header">
                <span class="provider-badge">{{ plan.provider.name }}</span>
                <h2 style="margin: 10px 0 0 0;">{{ plan.plan_name }}</h2>
            </div>
            <div class="plan-summary-features">
                <div class="feature">
                    <span class="feature-icon">üì±</span>
                    <span class="feature-label">Data</span>
                    <span class="feature-value">{{ plan.data if plan.data else 'N/A' }}</span>
                </div>
                <div class="feature">
                    <span class="feature-icon">üìû</span>
                    <span class="feature-label">Calls/Text</span>
                    <span class="feature-value">{{ plan.calls_text if plan.calls_text else 'N/A' }}</span>
                </div>
                <div class="feature">
                    <span class="feature-icon">üì≤</span>
                    <span class="feature-label">Phone</span>
                    <span class="feature-value">{{ plan.phone_model if plan.phone_model else 'N/A' }}</span>
                </div>
                <div class="feature highlight">
                    <span class="feature-icon">üí∞</span>
                    <span class="feature-label">Price</span>
                    <span class="feature-value">¬£{{ plan.price_per_month }}/month</span>
                </div>
            </div>
        </div>

        <form method="POST" action="{{ url_for('signup', plan_id=plan.id) }}" class="signup-form">
            <h3 style="margin-top: 30px;">Sign Up for this Plan</h3>
            <div class="form-group">
                <label for="full_name">Full Name:</label>
                <input type="text" id="full_name" name="full_name" required>
            </div>
            <div class="form-group">
                <label for="date_of_birth">Date of Birth:</label>
                <input type="date" id="date_of_birth" name="date_of_birth" required>
            </div>
            <div class="form-group">
                <label for="payment_method">Payment Method:</label>
                <select id="payment_method" name="payment_method" required>
                    <option value="Credit Card">Credit Card</option>
                    <option value="Debit Card">Debit Card</option>
                    <option value="PayPal">PayPal</option>
                </select>
            </div>
            <button type="submit" class="btn">Confirm & "Pay"</button>
            <a href="{{ url_for('index') }}" class="btn back-btn">Back to Plans</a>
        </form>

        <div class="info-note">
            <p>üîí <strong>Note:</strong> Your information is secure. No real payment will be processed.</p>
            <p>‚ö†Ô∏è <strong>Age Restriction:</strong> You must be at least 16 years old to sign up. If you are under 18, a spending cap will be applied.</p>
        </div>
    </div>

    <style>
        .plan-summary-card {
            background: linear-gradient(135deg, #fff 0%, #f5f5f5 100%);
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            padding: 25px 30px 15px 30px;
            margin-bottom: 20px;
            border: 2px solid #ff5722;
            text-align: center;
        }
        .plan-summary-header {
            text-align: center;
        }
        .provider-badge {
            background: linear-gradient(90deg, #ff5722 0%, #ff9800 100%);
            color: #fff;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        .plan-summary-features {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        .feature {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px 20px;
            text-align: center;
            min-width: 120px;
            color: #212121;
        }
        .feature.highlight {
            background: linear-gradient(90deg, #ff5722 0%, #ff9800 100%);
            color: #fff;
            border: 2px solid #ffc107;
        }
        .feature-icon {
            font-size: 1.3em;
            display: block;
            margin-bottom: 5px;
        }
        .feature-label {
            color: #666;
            font-size: 0.9em;
        }
        .feature.highlight .feature-label {
            color: #fff;
            opacity: 0.9;
        }
        .feature-value {
            font-weight: bold;
            color: #333;
            display: block;
            margin-top: 3px;
        }
        .feature.highlight .feature-value {
            color: #fff;
        }
        .signup-form {
            background: linear-gradient(135deg, #212121 0%, #424242 100%);
            padding: 25px 30px 20px 30px;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.4);
            margin-bottom: 20px;
            border: 1px solid #616161;
            color: #fff;
        }
        .signup-form h3 {
            margin-bottom: 20px;
            color: #fff;
        }
        .form-group {
            margin-bottom: 18px;
        }
        .form-group label {
            display: block;
            margin-bottom: 7px;
            color: #e0e0e0;
            font-weight: 500;
        }
        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #616161;
            background: #fff;
            color: #212121;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff5722;
            box-shadow: 0 0 0 3px rgba(255,87,34,0.2);
        }
        .btn {
            background: linear-gradient(90deg, #ff5722 0%, #ff9800 100%);
            color: #fff;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1em;
            font-weight: 500;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(255,87,34,0.15);
            text-decoration: none;
            display: inline-block;
            margin-right: 10px;
        }
        .btn:hover {
            background: transparent;
            color: #ff5722;
            border: 2px solid #ff5722;
            transform: translateY(-1px) scale(1.03);
            box-shadow: 0 6px 16px rgba(255,87,34,0.25);
        }
        .btn.back-btn {
            background: linear-gradient(90deg, #616161 0%, #424242 100%);
            color: #fff;
            margin-left: 10px;
        }
        .btn.back-btn:hover {
            background: transparent;
            color: #616161;
            border: 2px solid #616161;
        }
        .info-note {
            background: linear-gradient(90deg, #212121 0%, #424242 100%);
            border-left: 5px solid #ff5722;
            padding: 15px 20px;
            border-radius: 8px;
            color: #e0e0e0;
            margin-top: 20px;
            font-size: 1em;
            border: 1px solid #616161;
        }
        .info-note strong {
            color: #ffc107;
        }
        @media (max-width: 600px) {
            .plan-summary-card, .signup-form {
                padding: 15px 20px;
            }
            .plan-summary-features {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
{% endblock %} 